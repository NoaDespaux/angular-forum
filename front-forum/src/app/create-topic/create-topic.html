<div class="create-topic-container">
  <div class="create-topic-card">
    <h2>Create New Topic</h2>

    @if (!isAuthenticated) {
      <div class="auth-warning">
        <p>You must be logged in to create a topic.</p>
        <a href="/auth">Login</a>
      </div>
    }

    @if (isAuthenticated) {
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="title">Title *</label>
          <input
            type="text"
            id="title"
            [(ngModel)]="title"
            name="title"
            required
            [disabled]="isLoading"
            placeholder="Enter topic title">
        </div>

        <div class="form-group">
          <label for="content">Content *</label>
          <textarea
            id="content"
            [(ngModel)]="content"
            name="content"
            required
            [disabled]="isLoading"
            placeholder="Enter topic content"
            rows="10"></textarea>
        </div>

        @if (error) {
          <div class="error">{{ error }}</div>
        }

        <div class="form-actions">
          <button type="button" (click)="onCancel()" [disabled]="isLoading">
            Cancel
          </button>
          <button type="submit" [disabled]="isLoading">
            {{ isLoading ? 'Creating...' : 'Create Topic' }}
          </button>
        </div>
      </form>
    }
  </div>
</div>
